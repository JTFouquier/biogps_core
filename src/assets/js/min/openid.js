(function(a){a.fn.openid=function(d){var f;var j="openid_username";var h=a("#openid_inputarea").length?a("#openid_inputarea"):a('<div id="openid_inputarea" />');var k={txt:{label:"Enter your {provider} {username}",username:"username",title:"Select your openID provider",sign:"Sign-In"},providers:[{name:"Google",url:"https://www.google.com/accounts/o8/id",label:null,big:true},{name:"Yahoo",url:"http://yahoo.com/",label:null,big:true},{name:"AOL",username_txt:"screenname",url:"http://openid.aol.com/{username}",big:true},{name:"OpenID",username_txt:"url",big:true},{name:"MyOpenID",url:"http://{username}.myopenid.com/"},{name:"Flickr",url:"http://flickr.com/{username}/"},{name:"Technorati",url:"http://technorati.com/people/technorati/{username}/"},{name:"Wordpress",url:"http://{username}.wordpress.com/"},{name:"Blogger",url:"http://{username}.blogspot.com/"},{name:"Verisign",url:"http://{username}.pip.verisignlabs.com/"},{name:"Vidoop",url:"http://{username}.myvidoop.com/"},{name:"ClaimID",url:"http://claimid.com/{username}"},{name:"LiveJournal",url:"http://{username}.livejournal.com"}],cookie_expires:6*30,cookie_path:"/",img_path:"/img/"};var b=function(u,r,t){var s=a('<a title="'+u+'" href="#" id="btn_'+r+'" class="openid_'+t+"_btn "+u+'" />');return s.click(q)};var p=function(s){var r=new Date();r.setTime(r.getTime()+(g.cookie_expires*24*60*60*1000));document.cookie="openid_prov="+s+"; expires="+r.toGMTString()+"; path="+g.cookie_path};var n=function(){var r=document.cookie.split(";");for(i in r){if((pos=r[i].indexOf("openid_prov="))!=-1){return a.trim(r[i].slice(pos+12))}}};var q=function(t,s){var r=a(s||this).attr("id").replace("btn_","");if(!(f=g.providers[r])){return}if(highlight=a("#openid_highlight")){highlight.replaceWith(a("#openid_highlight a")[0])}a("#btn_"+r).wrap('<div id="openid_highlight" />');p(r);m();if(f.label===null){h.text(g.txt.title);if(!s){h.fadeOut();c.submit()}}return false};var m=function(){var r=(f.label||g.txt.label).replace("{username}",(f.username_txt!==undefined)?f.username_txt:g.txt.username).replace("{provider}",f.name);h.empty().show().append('<span class="oidlabel">'+r+'</span><input id="'+j+'" type="text"  name="username_txt" class="Verisign"/><input type="submit" value="'+g.txt.sign+'"/>');a("#"+j).focus()};var o=function(){var r=(f.url)?f.url.replace("{username}",a("#"+j).val()):a("#"+j).val();c.append(a('<input type="hidden" name="openid_url" value="'+r+'" />'));ga("send","pageview","/auth/login/openid/"+f.name)};var g=a.extend(k,d||{});var l=a('<div id="openid_btns" />');var e=true;a.each(g.providers,function(r,s){if(!s.big&&e){l.append("<br />");e=false}l.append(b(s.name,r,(s.big)?"large":"small"))});var c=this;c.css({"background-image":"none"});c.append(l).submit(o);l.append(h);if(idx=n()){q(null,"#btn_"+idx)}else{h.text(g.txt.title).show()}return this}})(jQuery);jQuery(document).ready(function(){jQuery("#openid_form").openid({img_path:"/assets/img/openid/",txt:{label:"Enter your {provider} {username}",username:"username",title:"Select your openID provider",sign:"Log in"}});document.getElementById("id_username").focus()});